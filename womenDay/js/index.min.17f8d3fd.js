!function(a,b){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return b(a)}):b(a,!0)}(this,function(a,b){function c(b,c,d){a.WeixinJSBridge?WeixinJSBridge.invoke(b,e(c),function(a){g(b,a,d)}):j(b,d)}function d(b,c,d){a.WeixinJSBridge?WeixinJSBridge.on(b,function(a){d&&d.trigger&&d.trigger(a),g(b,a,c)}):d?j(b,d):j(b,c)}function e(a){return a=a||{},a.appId=E.appId,a.verifyAppId=E.appId,a.verifySignType="sha1",a.verifyTimestamp=E.timestamp+"",a.verifyNonceStr=E.nonceStr,a.verifySignature=E.signature,a}function f(a){return{timeStamp:a.timestamp+"",nonceStr:a.nonceStr,"package":a["package"],paySign:a.paySign,signType:a.signType||"SHA1"}}function g(a,b,c){var d,e;switch(delete b.err_code,delete b.err_desc,delete b.err_detail,d=b.errMsg,d||(d=b.err_msg,delete b.err_msg,d=h(a,d),b.errMsg=d),c=c||{},c._complete&&(c._complete(b),delete c._complete),d=b.errMsg||"",E.debug&&!c.isInnerInvoke&&alert(JSON.stringify(b)),e=d.indexOf(":"),d.substring(e+1)){case"ok":c.success&&c.success(b);break;case"cancel":c.cancel&&c.cancel(b);break;default:c.fail&&c.fail(b)}c.complete&&c.complete(b)}function h(a,b){var c,d,e=a,f=p[e];return f&&(e=f),c="ok",b&&(d=b.indexOf(":"),c=b.substring(d+1),"confirm"==c&&(c="ok"),"failed"==c&&(c="fail"),-1!=c.indexOf("failed_")&&(c=c.substring(7)),-1!=c.indexOf("fail_")&&(c=c.substring(5)),c=c.replace(/_/g," "),c=c.toLowerCase(),("access denied"==c||"no permission to execute"==c)&&(c="permission denied"),"config"==e&&"function not exist"==c&&(c="ok"),""==c&&(c="fail")),b=e+":"+c}function i(a){var b,c,d,e;if(a){for(b=0,c=a.length;c>b;++b)d=a[b],(e=o[d])&&(a[b]=e);return a}}function j(a,b){if(!(!E.debug||b&&b.isInnerInvoke)){var c=p[a];c&&(a=c),b&&b._complete&&delete b._complete,console.log('"'+a+'",',b||"")}}function k(){0!=D.preVerifyState&&(u||v||E.debug||"6.0.2">z||D.systemType<0||A||(A=!0,D.appId=E.appId,D.initTime=C.initEndTime-C.initStartTime,D.preVerifyTime=C.preVerifyEndTime-C.preVerifyStartTime,H.getNetworkType({isInnerInvoke:!0,success:function(a){var b,c;D.networkType=a.networkType,b="http://open.weixin.qq.com/sdk/report?v="+D.version+"&o="+D.preVerifyState+"&s="+D.systemType+"&c="+D.clientVersion+"&a="+D.appId+"&n="+D.networkType+"&i="+D.initTime+"&p="+D.preVerifyTime+"&u="+D.url,c=new Image,c.src=b}})))}function l(){return(new Date).getTime()}function m(b){w&&(a.WeixinJSBridge?b():q.addEventListener&&q.addEventListener("WeixinJSBridgeReady",b,!1))}function n(){H.invoke||(H.invoke=function(b,c,d){a.WeixinJSBridge&&WeixinJSBridge.invoke(b,e(c),d)},H.on=function(b,c){a.WeixinJSBridge&&WeixinJSBridge.on(b,c)})}var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;if(!a.jWeixin)return o={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},p=function(){var a,b={};for(a in o)b[o[a]]=a;return b}(),q=a.document,r=q.title,s=navigator.userAgent.toLowerCase(),t=navigator.platform.toLowerCase(),u=!(!t.match("mac")&&!t.match("win")),v=-1!=s.indexOf("wxdebugger"),w=-1!=s.indexOf("micromessenger"),x=-1!=s.indexOf("android"),y=-1!=s.indexOf("iphone")||-1!=s.indexOf("ipad"),z=function(){var a=s.match(/micromessenger\/(\d+\.\d+\.\d+)/)||s.match(/micromessenger\/(\d+\.\d+)/);return a?a[1]:""}(),A=!1,B=!1,C={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},D={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",preVerifyState:1,systemType:y?1:x?2:-1,clientVersion:z,url:encodeURIComponent(location.href)},E={},F={_completes:[]},G={state:0,data:{}},m(function(){C.initEndTime=l()}),H={config:function(a){E=a,j("config",a);var b=!1!==E.check;m(function(){var a,d,e;if(b)c(o.config,{verifyJsApiList:i(E.jsApiList)},function(){F._complete=function(a){C.preVerifyEndTime=l(),G.state=1,G.data=a},F.success=function(){D.preVerifyState=0},F.fail=function(a){F._fail?F._fail(a):G.state=-1};var a=F._completes;return a.push(function(){k()}),F.complete=function(){for(var b=0,c=a.length;c>b;++b)a[b]();F._completes=[]},F}()),C.preVerifyStartTime=l();else{for(G.state=1,a=F._completes,d=0,e=a.length;e>d;++d)a[d]();F._completes=[]}}),E.beta&&n()},ready:function(a){0!=G.state?a():(F._completes.push(a),!w&&E.debug&&a())},error:function(a){"6.0.2">z||B||(B=!0,-1==G.state?a(G.data):F._fail=a)},checkJsApi:function(a){var b=function(a){var b,c,d=a.checkResult;for(b in d)(c=p[b])&&(d[c]=d[b],delete d[b]);return a};c("checkJsApi",{jsApiList:i(a.jsApiList)},function(){return a._complete=function(a){if(x){var c=a.checkResult;c&&(a.checkResult=JSON.parse(c))}a=b(a)},a}())},onMenuShareTimeline:function(a){d(o.onMenuShareTimeline,{complete:function(){c("shareTimeline",{title:a.title||r,desc:a.title||r,img_url:a.imgUrl||"",link:a.link||location.href,type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareAppMessage:function(a){d(o.onMenuShareAppMessage,{complete:function(){c("sendAppMessage",{title:a.title||r,desc:a.desc||"",link:a.link||location.href,img_url:a.imgUrl||"",type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareQQ:function(a){d(o.onMenuShareQQ,{complete:function(){c("shareQQ",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareWeibo:function(a){d(o.onMenuShareWeibo,{complete:function(){c("shareWeiboApp",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareQZone:function(a){d(o.onMenuShareQZone,{complete:function(){c("shareQZone",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},startRecord:function(a){c("startRecord",{},a)},stopRecord:function(a){c("stopRecord",{},a)},onVoiceRecordEnd:function(a){d("onVoiceRecordEnd",a)},playVoice:function(a){c("playVoice",{localId:a.localId},a)},pauseVoice:function(a){c("pauseVoice",{localId:a.localId},a)},stopVoice:function(a){c("stopVoice",{localId:a.localId},a)},onVoicePlayEnd:function(a){d("onVoicePlayEnd",a)},uploadVoice:function(a){c("uploadVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadVoice:function(a){c("downloadVoice",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},translateVoice:function(a){c("translateVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},chooseImage:function(a){c("chooseImage",{scene:"1|2",count:a.count||9,sizeType:a.sizeType||["original","compressed"],sourceType:a.sourceType||["album","camera"]},function(){return a._complete=function(a){if(x){var b=a.localIds;b&&(a.localIds=JSON.parse(b))}},a}())},previewImage:function(a){c(o.previewImage,{current:a.current,urls:a.urls},a)},uploadImage:function(a){c("uploadImage",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadImage:function(a){c("downloadImage",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},getNetworkType:function(a){var b=function(a){var b,c,d,e=a.errMsg;if(a.errMsg="getNetworkType:ok",b=a.subtype,delete a.subtype,b)a.networkType=b;else switch(c=e.indexOf(":"),d=e.substring(c+1)){case"wifi":case"edge":case"wwan":a.networkType=d;break;default:a.errMsg="getNetworkType:fail"}return a};c("getNetworkType",{},function(){return a._complete=function(a){a=b(a)},a}())},openLocation:function(a){c("openLocation",{latitude:a.latitude,longitude:a.longitude,name:a.name||"",address:a.address||"",scale:a.scale||28,infoUrl:a.infoUrl||""},a)},getLocation:function(a){a=a||{},c(o.getLocation,{type:a.type||"wgs84"},function(){return a._complete=function(a){delete a.type},a}())},hideOptionMenu:function(a){c("hideOptionMenu",{},a)},showOptionMenu:function(a){c("showOptionMenu",{},a)},closeWindow:function(a){a=a||{},c("closeWindow",{},a)},hideMenuItems:function(a){c("hideMenuItems",{menuList:a.menuList},a)},showMenuItems:function(a){c("showMenuItems",{menuList:a.menuList},a)},hideAllNonBaseMenuItem:function(a){c("hideAllNonBaseMenuItem",{},a)},showAllNonBaseMenuItem:function(a){c("showAllNonBaseMenuItem",{},a)},scanQRCode:function(a){a=a||{},c("scanQRCode",{needResult:a.needResult||0,scanType:a.scanType||["qrCode","barCode"]},function(){return a._complete=function(a){var b,c;y&&(b=a.resultStr)&&(c=JSON.parse(b),a.resultStr=c&&c.scan_code&&c.scan_code.scan_result)},a}())},openProductSpecificView:function(a){c(o.openProductSpecificView,{pid:a.productId,view_type:a.viewType||0,ext_info:a.extInfo},a)},addCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,card_ext:e.cardExt},h.push(f);c(o.addCard,{card_list:h},function(){return a._complete=function(a){var b,c,d,e=a.card_list;if(e){for(e=JSON.parse(e),b=0,c=e.length;c>b;++b)d=e[b],d.cardId=d.card_id,d.cardExt=d.card_ext,d.isSuccess=!!d.is_succ,delete d.card_id,delete d.card_ext,delete d.is_succ;a.cardList=e,delete a.card_list}},a}())},chooseCard:function(a){c("chooseCard",{app_id:E.appId,location_id:a.shopId||"",sign_type:a.signType||"SHA1",card_id:a.cardId||"",card_type:a.cardType||"",card_sign:a.cardSign,time_stamp:a.timestamp+"",nonce_str:a.nonceStr},function(){return a._complete=function(a){a.cardList=a.choose_card_info,delete a.choose_card_info},a}())},openCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,code:e.code},h.push(f);c(o.openCard,{card_list:h},a)},chooseWXPay:function(a){c(o.chooseWXPay,f(a),a)}},b&&(a.wx=a.jWeixin=H),H});var designwhScale=320/504,curwhScale=document.documentElement.clientWidth/document.documentElement.clientHeight,resizes=document.querySelectorAll(".resize"),swiperContainer=document.querySelector(".container"),containerWidth=320,containerHeight=504,containerTop=0,containerLeft=0;curwhScale<designwhScale?(containerWidth=document.documentElement.clientWidth,containerHeight=document.documentElement.clientHeight,containerTop=(document.documentElement.clientHeight-containerHeight)/2):(containerWidth=document.documentElement.clientHeight*designwhScale,containerHeight=document.documentElement.clientHeight,containerLeft=(document.documentElement.clientWidth-containerWidth)/2),swiperContainer.style.width=containerWidth+"px",swiperContainer.style.height=containerHeight+"px",swiperContainer.style.left=containerLeft+"px",swiperContainer.style.top=containerTop+"px";for(var scale=containerWidth/320,j=0;j<resizes.length;j++)resizes[j].style.width=parseInt(resizes[j].style.width)*scale+"px",resizes[j].style.height=parseInt(resizes[j].style.height)*scale+"px",resizes[j].style.left=parseInt(resizes[j].style.left)*scale+"px",resizes[j].style.top=parseInt(resizes[j].style.top)*scale+"px",resizes[j].style.bottom=parseInt(resizes[j].style.bottom)*scale+"px",resizes[j].style.right=parseInt(resizes[j].style.right)*scale+"px";$(function(){function a(a,b){var c,d=a.find(".hand1"),e=a.find(".hand2");clearInterval(g),g=setInterval(function(){b&&(c?(d.show(),e.hide()):(e.show(),d.hide()),c=!c)},500)}function b(){var a;clearInterval(f),f=setInterval(function(){a?i.addClass("active"):i.removeClass("active"),a=!a},400)}function c(a){switch(a){case 1:d("lanhua");break;case 3:d("hehua");break;case 5:d("meihua");break;case 7:d("shuixian");break;case 9:d("yueji");break;case 11:d("chahua");break;case 13:d("dujuan");break;case 15:d("juhua")}}function d(a){r.css({background:'url("images/'+a+'.png")',"background-size":"100%","-webkit-background-size":"100%"})}var e,f,g,h,i=$(".button"),j=($(".button1"),$(".button2"),$(".flower")),k=$(".cover"),l=$(".ling"),m=$("#mask"),n=$(".handTop"),o=$(".handBottm"),p=($(".content"),$(window)),q=$(".load"),r=$(".ling-content"),s=$(".container"),t=$(".product"),u=$(".again"),v=$(".share"),w=$(".code"),x=$(".arrow"),y=!0;q.hide(),s.show(),m.css({width:p.width(),left:(s.width()-p.width())/2}),t.css({width:p.width()/2,left:(s.width()-p.width())/2}),w.css({width:p.width()/2,left:s.width()/2});var z=document.getElementById("audio");$.ajax({url:"http://h5pf.xykjg.com/gamesServer/wx/getSignature",type:"post",data:JSON.stringify({url:window.location.href}),contentType:"application/json",success:function(a){wx.config({debug:!1,appId:a.appId,timestamp:a.timestamp,nonceStr:a.nonceStr,signature:a.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]})}});var A="今天我最大，我有旨令下",B="不求你三生三世，只愿你今日能许我这件事",C="http://h5.xykjg.com/womenDay/?_campaign=womenDay&_adTag=prd",D="http://h5.xykjg.com/womenDay/images/link.png";wx.ready(function(){document.getElementById("audio").play(),wx.onMenuShareAppMessage({title:A,desc:B,link:C,imgUrl:D}),wx.onMenuShareTimeline({title:A,desc:B,link:C,imgUrl:D}),wx.onMenuShareQQ({title:A,desc:B,link:C,imgUrl:D})});var E=!0,F=this,G=function(){F.isActivate&&(F.isActivate=!1,z.pause(),$(".music-btn").attr("src","images/music-close.png"))},H=function(){F.isActivate||(F.isActivate=!0,1==E?(z.src="media/17.mp3",z.loop=!0,z.play(),$(".music-btn").attr("src","images/music-open.png")):(document.getElementById("audio").pause(),$(".music-btn").attr("src","images/music-close.png")))},I=function(){document[J]?G():H()};window.addEventListener("focus",H,!1),window.addEventListener("blur",G,!1);var J,K;"undefined"!=typeof document.hidden?(J="hidden",K="visibilitychange"):"undefined"!=typeof document.mozHidden?(J="mozHidden",K="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(J="msHidden",K="msvisibilitychange"):"undefined"!=typeof document.webkitHidden?(J="webkitHidden",K="webkitvisibilitychange"):"undefined"!=typeof document.oHidden&&(J="oHidden",K="ovisibilitychange"),"onpageshow"in window&&"onpagehide"in window&&(window.addEventListener("pageshow",H,!1),window.addEventListener("pagehide",G,!1)),J&&K&&document.addEventListener(K,I,!1),$(".music-btn").on("touchstart",function(a){z.paused?(z.play(),E=!0,$(".music-btn").addClass("active").attr("src","images/music-open.png")):(z.pause(),E=!1,$(".music-btn").removeClass("active").attr("src","images/music-close.png")),a.preventDefault()}),b(),i.on("click",function(b){if(y){y=!1,clearInterval(f),i.addClass("active"),k.addClass("active"),setTimeout(function(){i.removeClass("active")},400);for(var c=0;c%2==0;)c=parseInt(16*Math.random())+1;h="rotate("+(22.5*c+720)+"deg)",j.css({transform:h,"-webkit-transform":h}).addClass("active"),e=22.5*c/22.5,setTimeout(function(){l.addClass("active")},2200),setTimeout(function(){i.css("z-index","2"),m.show(),n.show(),a(n,!0)},3300),b.preventDefault()}}),n.on("touchstart",function(b){n.hide(),a(n,!1),l.hide(),$(".open1").show(),setTimeout(function(){$(".open2").show(),$(".open1").hide()},200),setTimeout(function(){$(".open3").show(),$(".open2").hide(),c(e),r.addClass("fadeIn1"),t.addClass("fadeIn2"),w.addClass("fadeIn2"),u.addClass("fadeIn2"),v.addClass("fadeIn2")},400),setTimeout(function(){o.show(),a(o,!0)},2400),b.preventDefault()}),u.on("touchstart",function(c){k.removeClass("active"),i.css("z-index","10"),r.removeClass("fadeIn1"),t.removeClass("fadeIn2"),w.removeClass("fadeIn2"),u.removeClass("fadeIn2"),v.removeClass("fadeIn2"),$(".open3").hide(),m.hide(),o.hide(),a(o,!1),l.show().removeClass("active"),x.hide(),y=!0,j.removeClass("active").css({transform:"rotate(0deg)","-webkit-transform":"rotate(0deg)"}),b(),c.preventDefault()}),v.on("touchstart",function(a){x.show(),a.preventDefault()}),$(".content_cover").on("touchstart",function(a){a.preventDefault()})});